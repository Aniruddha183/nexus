module.exports=[79786,a=>{"use strict";let b=(0,a.i(84703).default)("mic-off",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]]);a.s(["MicOff",()=>b],79786)},9205,a=>{"use strict";let b=(0,a.i(84703).default)("phone-off",[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]]);a.s(["PhoneOff",()=>b],9205)},29654,a=>{"use strict";let b=(0,a.i(84703).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],29654)},82466,a=>{"use strict";let b=(0,a.i(84703).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>b],82466)},66071,a=>{"use strict";let b=(0,a.i(84703).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],66071)},56315,(a,b,c)=>{b.exports=a.x("@react-three/fiber",()=>require("@react-three/fiber"))},60395,(a,b,c)=>{b.exports=a.x("@react-three/drei",()=>require("@react-three/drei"))},60814,a=>a.a(async(b,c)=>{try{let b=await a.y("three");a.n(b),c()}catch(a){c(a)}},!0),93453,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(56315),g=a.i(60395),h=a.i(60814),i=b([h]);[h]=i.then?(await i)():i;let j=()=>(0,d.jsxs)("group",{position:[0,0,5],rotation:[0,Math.PI,0],children:[(0,d.jsxs)("mesh",{position:[0,-1.5,2],children:[(0,d.jsx)("boxGeometry",{args:[4,.1,2]}),(0,d.jsx)("meshStandardMaterial",{color:"#202020",roughness:.2,metalness:.8})]}),(0,d.jsxs)("group",{position:[0,-1.45,2],rotation:[0,Math.PI,0],children:[(0,d.jsxs)("mesh",{position:[0,.05,0],children:[(0,d.jsx)("boxGeometry",{args:[.8,.02,.5]}),(0,d.jsx)("meshStandardMaterial",{color:"#555"})]}),(0,d.jsxs)("mesh",{position:[0,.3,-.25],rotation:[Math.PI/6,0,0],children:[(0,d.jsx)("boxGeometry",{args:[.8,.45,.02]}),(0,d.jsx)("meshStandardMaterial",{color:"#111"})]})]}),(0,d.jsxs)("mesh",{position:[0,-.5,3],children:[(0,d.jsx)("capsuleGeometry",{args:[.4,1,4,8]}),(0,d.jsx)("meshStandardMaterial",{color:"#101010",roughness:.9})]})]}),k=({analyser:a,isSpeaking:b})=>{let c=(0,e.useRef)(null),i=(0,e.useRef)(null),j=(0,e.useMemo)(()=>new Uint8Array(a?.frequencyBinCount||128),[a]);return(0,f.useFrame)(d=>{if(!c.current||!i.current)return;let e=0;a&&b&&(a.getByteFrequencyData(j),e=j.reduce((a,b)=>a+b,0)/j.length);let f=d.clock.getElapsedTime(),g=b?.3+e/255*.5:.1,k=b?3+e/255*5:.5;i.current.distort=h.MathUtils.lerp(i.current.distort,g,.1),i.current.speed=h.MathUtils.lerp(i.current.speed,k,.1),c.current.rotation.x=.2*Math.sin(.2*f),c.current.rotation.y=.15*f;let l=new h.Color("#E8E8E8"),m=new h.Color("#FFFFFF"),n=b?Math.min(e/150,1):0;i.current.color.lerpColors(l,m,n),i.current.roughness=h.MathUtils.lerp(.15,0,n)}),(0,d.jsx)(g.Sphere,{args:[1,128,128],ref:c,children:(0,d.jsx)(g.MeshDistortMaterial,{ref:i,color:"#E8E8E8",envMapIntensity:1.5,clearcoat:1,clearcoatRoughness:.1,metalness:1,roughness:.1,radius:1,distort:.1})})},l=()=>{let a=(0,e.useRef)(null);return(0,f.useFrame)((b,c)=>{a.current&&(a.current.rotation.y+=.02*c,a.current.rotation.x+=.01*c)}),(0,d.jsxs)("group",{ref:a,children:[(0,d.jsxs)("mesh",{scale:[3.8,3.8,3.8],children:[(0,d.jsx)("icosahedronGeometry",{args:[1,2]}),(0,d.jsx)("meshBasicMaterial",{color:"#333333",wireframe:!0,transparent:!0,opacity:.15})]}),(0,d.jsxs)("mesh",{scale:[2.5,2.5,2.5],rotation:[.5,.5,0],children:[(0,d.jsx)("icosahedronGeometry",{args:[1,1]}),(0,d.jsx)("meshBasicMaterial",{color:"#555555",wireframe:!0,transparent:!0,opacity:.1})]})]})};a.s(["default",0,({analyser:a,isSpeaking:b})=>(0,d.jsx)("div",{className:"w-full h-full min-h-[400px] relative rounded-lg overflow-hidden bg-[#121212]",children:(0,d.jsxs)(f.Canvas,{camera:{position:[0,1,4.5],fov:45},children:[(0,d.jsx)("color",{attach:"background",args:["#121212"]}),(0,d.jsx)("ambientLight",{intensity:1.5}),(0,d.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:2,castShadow:!0}),(0,d.jsx)("pointLight",{position:[-10,-10,-10],intensity:1,color:"#ffffff"}),(0,d.jsx)(g.Environment,{preset:"city"}),(0,d.jsx)(l,{}),(0,d.jsx)(j,{}),(0,d.jsx)(g.Grid,{position:[0,-2,0],args:[10.5,10.5],cellSize:.6,cellThickness:.5,cellColor:"#333333",sectionSize:3.3,sectionThickness:1,sectionColor:"#444444",fadeDistance:10,fadeStrength:1}),(0,d.jsx)(k,{analyser:a,isSpeaking:b}),(0,d.jsx)(g.OrbitControls,{enableZoom:!1,enablePan:!1,minPolarAngle:Math.PI/2.5,maxPolarAngle:Math.PI/1.8})]})})]),c()}catch(a){c(a)}},!1),60899,a=>{"use strict";function b(a){let b=atob(a),c=b.length,d=new Uint8Array(c);for(let a=0;a<c;a++)d[a]=b.charCodeAt(a);return d}function c(a){let b=a.length,c=new Int16Array(b);for(let d=0;d<b;d++){let b=Math.max(-1,Math.min(1,a[d]));c[d]=b<0?32768*b:32767*b}return{data:function(a){let b="",c=new Uint8Array(a),d=c.byteLength;for(let a=0;a<d;a++)b+=String.fromCharCode(c[a]);return btoa(b)}(c.buffer),mimeType:"audio/pcm;rate=16000"}}async function d(a,b,c=24e3,e=1){let f=new Int16Array(a.buffer),g=f.length/e,h=b.createBuffer(e,g,c);for(let a=0;a<e;a++){let b=h.getChannelData(a);for(let c=0;c<g;c++)b[c]=f[c*e+a]/32768}return h}a.s(["base64ToUint8Array",()=>b,"createPcmBlob",()=>c,"decodeAudioData",()=>d])},26113,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(94238),g=a.i(80104),h=a.i(4848),i=a.i(79786),j=a.i(9205),k=a.i(29654),l=a.i(82466),m=a.i(66071),n=a.i(17523),o=a.i(93453),p=a.i(80942),q=a.i(60899),r=b([g,n,o]);[g,n,o]=r.then?(await r)():r,a.s(["default",0,()=>{let a=(0,f.useRouter)(),{config:b,transcript:c,addTranscriptItem:r}=(0,n.useInterview)(),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(!0),[w,x]=(0,e.useState)(null),[y,z]=(0,e.useState)(!1),[A,B]=(0,e.useState)(""),[C,D]=(0,e.useState)(!0),E=(0,e.useRef)(null),F=(0,e.useRef)(null),G=(0,e.useRef)(null),H=(0,e.useRef)(new Set),I=(0,e.useRef)(0),J=(0,e.useRef)(null),K=(0,e.useRef)(""),L=(0,e.useRef)(null),M=(0,e.useCallback)(async()=>{if(!process.env.API_KEY)return void x("API Key Missing");try{let a=new g.GoogleGenAI({apiKey:process.env.API_KEY});E.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:p.OUT_SAMPLE_RATE}),F.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:p.PCM_SAMPLE_RATE});let c=E.current.createAnalyser();c.fftSize=512,G.current=c;let d=a.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",config:{systemInstruction:(0,p.getSystemInstruction)(b.domain,b.difficulty,b.resumeText),responseModalities:[g.Modality.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}},inputAudioTranscription:{},outputAudioTranscription:{}},callbacks:{onopen:async()=>{t(!0);try{let a=await navigator.mediaDevices.getUserMedia({audio:!0});if(J.current=a,!F.current)return;let b=F.current.createMediaStreamSource(a),c=F.current.createScriptProcessor(4096,1,1);c.onaudioprocess=a=>{if(!u)return;let b=a.inputBuffer.getChannelData(0),c=(0,q.createPcmBlob)(b);d.then(a=>a.sendRealtimeInput({media:c}))},b.connect(c),c.connect(F.current.destination)}catch(a){x("Microphone Access Denied")}},onmessage:async a=>{let{serverContent:b}=a,c=b?.modelTurn?.parts?.[0]?.inlineData?.data;if(c&&E.current){z(!0);let a=E.current;I.current=Math.max(I.current,a.currentTime);let b=await (0,q.decodeAudioData)((0,q.base64ToUint8Array)(c),a,p.OUT_SAMPLE_RATE),d=a.createBufferSource();d.buffer=b,d.connect(G.current),G.current.connect(a.destination),d.start(I.current),I.current+=b.duration,H.current.add(d),d.onended=()=>{H.current.delete(d),0===H.current.size&&z(!1)}}let d=b?.inputTranscription?.text;d&&(K.current+=d,B(a=>a+d));let e=b?.modelTurn?.parts?.[0]?.text;e&&(r({role:"model",text:e,timestamp:Date.now()}),K.current.trim()&&(r({role:"user",text:K.current.trim(),timestamp:Date.now()}),K.current="",B(""))),b?.turnComplete&&K.current.trim()&&(r({role:"user",text:K.current.trim(),timestamp:Date.now()}),K.current="",B("")),b?.interrupted&&(H.current.forEach(a=>a.stop()),H.current.clear(),z(!1),I.current=0)},onclose:()=>t(!1),onerror:()=>x("Connection Error")}})}catch(a){x("System Error")}},[b,u,r]);return((0,e.useEffect)(()=>(M(),()=>{J.current&&J.current.getTracks().forEach(a=>a.stop()),F.current&&F.current.close(),E.current&&E.current.close()}),[]),(0,e.useEffect)(()=>{L.current&&(L.current.scrollTop=L.current.scrollHeight)},[c,A,C]),w)?(0,d.jsx)("div",{className:"min-h-screen bg-bg flex items-center justify-center p-4 text-txt-main",children:(0,d.jsxs)("div",{className:"text-center space-y-4",children:[(0,d.jsx)(k.AlertCircle,{className:"w-10 h-10 mx-auto text-accent"}),(0,d.jsx)("h2",{className:"text-xl font-bold",children:"Error"}),(0,d.jsx)("p",{className:"text-txt-sec",children:w}),(0,d.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 border border-border rounded hover:bg-white/5",children:"Retry"})]})}):(0,d.jsxs)("div",{className:"h-screen bg-bg flex flex-col relative overflow-hidden font-sans",children:[(0,d.jsxs)("header",{className:"absolute top-0 left-0 w-full z-10 p-6 flex justify-between items-center pointer-events-none",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 pointer-events-auto bg-black/50 px-3 py-1 rounded-full border border-border",children:[(0,d.jsx)("div",{className:`w-2 h-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),(0,d.jsx)("span",{className:"text-xs font-mono text-txt-sec",children:s?"ONLINE":"OFFLINE"})]}),(0,d.jsxs)("div",{className:"text-right pointer-events-auto",children:[(0,d.jsx)("p",{className:"text-sm font-bold text-txt-main",children:b.domain}),(0,d.jsx)("p",{className:"text-xs text-txt-sec",children:b.difficulty})]})]}),(0,d.jsx)("main",{className:"flex-1 w-full h-full relative",children:(0,d.jsx)(o.default,{analyser:G.current||void 0,isSpeaking:y})}),C&&(0,d.jsx)("div",{className:"absolute top-20 left-6 w-80 max-h-[50vh] flex flex-col z-20 pointer-events-auto",children:(0,d.jsxs)("div",{className:"bg-[#1a1a1a]/90 border border-border rounded-lg p-4 flex flex-col h-full backdrop-blur-sm",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsx)("span",{className:"text-xs font-mono text-accent",children:"TRANSCRIPT"}),(0,d.jsx)("button",{onClick:()=>D(!1),children:(0,d.jsx)(m.X,{className:"w-4 h-4 text-txt-sec"})})]}),(0,d.jsxs)("div",{ref:L,className:"flex-1 overflow-y-auto space-y-3 pr-1 text-sm",children:[c.map((a,b)=>(0,d.jsxs)("div",{className:`flex flex-col ${"user"===a.role?"items-end":"items-start"}`,children:[(0,d.jsx)("span",{className:"text-[10px] text-accent mb-1",children:"model"===a.role?"AI":"YOU"}),(0,d.jsx)("div",{className:`px-3 py-2 rounded-lg max-w-[90%] ${"user"===a.role?"bg-border text-txt-main":"bg-black/40 text-txt-sec border border-border"}`,children:a.text})]},b)),A&&(0,d.jsx)("div",{className:"flex flex-col items-end opacity-50",children:(0,d.jsx)("div",{className:"px-3 py-2 rounded-lg bg-border/50 text-txt-main border border-border border-dashed",children:A})})]})]})}),(0,d.jsxs)("footer",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 flex items-center gap-4 z-30 pointer-events-auto",children:[(0,d.jsx)("button",{onClick:()=>D(!C),className:`p-4 rounded-full border transition-all ${C?"bg-txt-main text-bg border-txt-main":"bg-transparent text-txt-sec border-border hover:border-accent"}`,children:(0,d.jsx)(l.MessageSquare,{className:"w-5 h-5"})}),(0,d.jsx)("button",{onClick:()=>v(!u),className:`w-16 h-16 rounded-full flex items-center justify-center transition-all ${u?"bg-txt-main text-bg":"bg-[#1a1a1a] text-red-500 border border-red-900"}`,children:u?(0,d.jsx)(h.Mic,{className:"w-6 h-6"}):(0,d.jsx)(i.MicOff,{className:"w-6 h-6"})}),(0,d.jsx)("button",{onClick:()=>{K.current.trim()&&r({role:"user",text:K.current.trim(),timestamp:Date.now()}),a.push("/dashboard")},className:"p-4 rounded-full bg-[#1a1a1a] border border-border text-txt-sec hover:bg-red-900/20 hover:text-red-400 hover:border-red-900 transition-all",children:(0,d.jsx)(j.PhoneOff,{className:"w-5 h-5"})})]})]})}]),c()}catch(a){c(a)}},!1),52020,a=>a.a(async(b,c)=>{try{var d=a.i(61478),e=a.i(71735),f=a.i(10575),g=a.i(43233),h=a.i(96604),i=a.i(26113),j=a.i(90536),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/InterviewRoom",pathname:"/InterviewRoom",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/InterviewRoom",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__5ed158d9._.js.map